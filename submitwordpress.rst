=====================================
WordPressにOpenGLプレビュー付きで投稿
=====================================

   :version: 0.0.4


これは何?
==========

Blenderからブログ投稿をするツールです。
WordPress へ XML-RPC を使って OpenGLプレビュー または スクリーンショット付きでポスト出来ます。

WIP(Work in Pregress)をばしばし貼っていきたい場合に重宝するかもしれません。

.. note:: 
   0.0.3 からromakanatbl.pyを適切に配置することでローマ字→かな変換機能の拡張(お試し)が可能です。


セットアップ
=============

submitwordpress.py
------------------

Blender Add-onの標準的なインストール方法を使ってセットアップします。

   1. submitwordpress.py を ``c:\work`` など、適当な場所にコピーします。

   2. Blender(2.67以降) を 起動し、ユーザープリファレンス画面を開きます。

   3. Addons タブを開きます。

   4. Install From File ボタンを押し、 1.のファイルを読み込みます。

   5. '3D View:SubmitWordPress' という名前のAdd-onを探します。検索ボックスから探しましょう。

   6. 表示されたAdd-onの右端にあるチェックボックスにチェックを入れ、有効にします。

設定の変更を次回以降も反映させておきたい場合はユーザープリファレンス画面の"Save User Settings"ボタンを押しましょう(または[CTRL+U])。

romakanatbl.py(Roman-Kana Extension)
------------------------------------

このファイルが無くても、submitwordpress.py は単独で動作します。

このファイルを Add-onをインストールしたディレクトリ下の romakanatbl に置くと 半角英大文字をローマ字に変換した上で投稿を行うことが可能です(タイトル、テキスト) 。

   1. '3D View:SubmitWordPress' という名前のAdd-on の詳細を確認し、インストールされたパスを開きます。

         例: ``C:\Users\<username>\Appdata\Blender Foundation\Blender\<ver>\scripts\addons\``
   
   2. そのディレクトリに ``romakanatbl`` というディレクトリを作成し、romakanatbl.py をコピーします。

アンインストール
==================

アンインストールは以下の手順で行います。

   1. submitwordpress.py および romakanatbl.py を削除します。
   2. submitwordpress.py のディレクトリから ``..\presets`` に移動し、wpaccount.txt を削除します。
   3. 投稿時に生成された画像を削除します。

使い方
======

まず、あなたがお使いのWordPressブログから、ログイン情報とXML-RPCアクセスのためのURLを取得します。その情報を 3Dビュー上のツールシェルフ、 "Submit WordPress"にあるフィールドに入力します。

   :user: アカウントIDを入力します。
   :password: ログインパスワードを入力します。
   :url: XML-RPC アクセスのためのURLを入力します。(例: http://localhost/wordpress/xmlrpc.php )

アクセスのための情報を入力し終えたら [Update] ボタンを押します(パスワード欄が消去されます)。これで投稿の準備は整いました。

続いて下記のフィールドを埋めていきます。

   :publish: このチェックボックスにチェックが入っている場合には、投稿を「公開」にします。
   :title: タイトルを入力します。
   :titleisromankana: このチェックボックスが有効な場合、タイトルの半角英大文字をローマ字変換します。(拡張が有効な場合)
   :text: 本文(短い一文)を入力します。
   :textisromankana: このチェックボックスが有効な場合、本文の半角英大文字をローマ字変換します。(拡張が有効な場合)
   :image: 添付する画像の種類を選択します。(OpenGL Preview/Screenshot/no image)

添付画像の種類は以下の通り。」

   +-----------------------+------------------------------------------+
   | OpenGL Preview        | OpenGL プレビュー画像を添付します。      |
   +-----------------------+------------------------------------------+
   | Screenshot            | スクリーンショットを取得し、添付します。 |
   +-----------------------+------------------------------------------+
   | no image              | 画像は添付しません。                     |
   +-----------------------+------------------------------------------+

SubmitWordPress ボタンを押すとWordPressに投稿します。

ローマ字仮名変換
----------------

'title is roman-kana' 、 'text is roman-kana' にチェックが入っている場合には、入力されたテキストの英大文字を変換します。

   +-----------------------+----------------------------------------+
   | OHAYOUGOZAIMASU       | おはようございます                     |
   +-----------------------+----------------------------------------+
   | WORDPRESS             | をRDPれSS                              |
   +-----------------------+----------------------------------------+
   | WordPress             | WordPress                              |
   +-----------------------+----------------------------------------+

日本語(各国語?)で投稿したい
----------------------------

User Preferences のオプションの System > 'International Fonts' にチェックが入っていることを確認して(日本語UIでなくてもOK)ください。

適当なテキストエディタを開いて日本語のテキストを書いて、Blenderの title 、 text の欄に適宜コピー&ペーストします。

本文(text)でリンクなどは使えますか?
------------------------------------

HTMLタグを直接入力することで可能と思います。


その他制約等
=============

制約等、です。

   * アカウント情報を記録する wpaccount.txt には パスワードをそのまま保存しますので、扱いにご注意ください。
   * タイトルおよび本文のローマ字変換機能はあくまで「お試し」です。
   * 画像は開いている.blendディレクトリと同じ階層に生成しますが、投稿処理が成功した場合にも削除しません。未保存時はプログラム起動パスと同じ階層に画像ファイルを作成します。
   * エラーハンドリングはほとんどしていません(投稿)。正しく投稿できなかった場合には潔く(?)例外を吐きます。

